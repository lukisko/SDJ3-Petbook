@page "/AddPet"
@inject IPetController _petController
@inject NavigationManager NavMgr
@using business_logic.Model;
<h1>Pet book</h1>


<EditForm Model="@petToAdd" OnValidSubmit="@AddNewPet">
    <DataAnnotationsValidator/> <ValidationSummary/>
    <div class="form-group"> Namee:<br/> <InputText @bind-Value="petToAdd.name"/> </div>
    <div class="form-group"> Type:<br/> <InputText @bind-Value="petToAdd.type"/> </div>
    <div class="form-group"> Breed:<br/> <InputText @bind-Value="petToAdd.breed"/> </div>
    <div class="form-group"> Description: <br/> <InputText @bind-Value="petToAdd.description"/> </div>
    
    <p class="actions"> <button class="btn btn-success mb-2" type="submit">Add Pet</button> </p>
</EditForm>


@code{
    public Pet petToAdd = new Pet() {id = 0};

    private async Task AddNewPet()
    {
        await _petController.addPetAsync(petToAdd);
        NavMgr.NavigateTo("/");
    }






}