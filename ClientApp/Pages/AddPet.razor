@page "/"
@inject IPetController _petController
@inject NavigationManager NavMgr
<h1>Pet book</h1>


<EditForm Model="@petToAdd" OnValidSubmit="@AddNewPet">
    <DataAnnotationsValidator/> <ValidationSummary/>
    <div class="form-group"> Name:<br/> <InputText @bind-Value="adultToAdd.LastName"/> </div>
    <div class="form-group"> Type:<br/> <InputText @bind-Value="adultToAdd.HairColor"/> </div>
    <div class="form-group"> Breed:<br/> <InputText @bind-Value="adultToAdd.EyeColor"/> </div>
    <div class="form-group"> Description: <br/> <InputNumber @bind-Value="adultToAdd.Age"/> </div>
    
    <p class="actions"> <button class="btn btn-success mb-2" type="submit">Add Pet</button> </p>
</EditForm>


@code{
    private Pet petToAdd;
    
    protected override async Task OnInitializedAsync()
    {
        allPets = await _petController.GetAllPetsAsync();
        toShowPets = allPets;
    }

    private async Task AddNewPet()
    {
        await _petController.AddPetAsync(petToAdd);
        NavMgr.NavigateTo("/");
    }






}